(this.webpackJsonpimdb=this.webpackJsonpimdb||[]).push([[0],{15:function(e,t,n){},17:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),i=n(6),s=n.n(i),a=(n(15),n(7)),l=n(8),o=n(10),u=n(9),d=n(2),j=n.n(d),h=n(3),b=n(4),m=(n(17),n(0)),p="k_l56508qd",f={actor1:[],actor2:[],title1:[],title2:[]},O=function(){return Object(m.jsxs)("div",{className:"loader",children:[Object(m.jsx)("span",{children:"loading"}),Object(m.jsxs)("div",{className:"lds-ellipsis",children:[Object(m.jsx)("div",{}),Object(m.jsx)("div",{}),Object(m.jsx)("div",{}),Object(m.jsx)("div",{})]})]})},x=function(e){e.current.value.length>0?e.current.nextElementSibling.className="del show-ex":e.current.nextElementSibling.className="del"},v=function(e,t){e.current.value="",e.current.focus(),x(e)};function g(e,t){return N.apply(this,arguments)}function N(){return(N=Object(b.a)(j.a.mark((function e(t,n){var c,r,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="".concat(t,"/").concat(p,"/").concat(n),r={method:"GET",redirect:"follow"},e.next=4,fetch(c,r).then((function(e){return e.text()})).then((function(e){return JSON.parse(e)})).catch((function(e){return console.log("error",e)}));case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w=function(e){var t=e.movie;return"movie"===C(t.title)?Object(m.jsx)("h2",{children:Object(m.jsxs)("a",{href:"https://www.imdb.com/title/".concat(t.id),children:[t.title," (",t.year,")"]})}):Object(m.jsx)("h2",{children:Object(m.jsx)("a",{href:"https://www.imdb.com/title/".concat(t.id),children:t.title})})},y=function(e){if(e.roles.match(/\(TV /g)||e.roles.match(/\(Video\)/g)){var t=e.roles.split(" - ")[0].split(") ")[1];try{t=(t=t.replace("(Video) ","")).replace("...","more...")}catch(n){console.log(n)}return Object(m.jsx)("span",{children:t})}return Object(m.jsx)("span",{children:e.roles})},C=function(e){return e.match(/\(TV /g)?"tv":"movie"},S=function(e,t){if(e.match(/episode/g)){var n=e.split(/\s\d+\sepisode[s]?,\s/gm);e="".concat(n[0].replace("...","more...")," in ").concat(t," (").concat(n[1],")")}else e="".concat(e," in ").concat(t);return e},A=function(){if(0===f.title1.length&&0===f.title2.length)return Object(m.jsx)("p",{children:"Unable to find a match. Make sure you've selected the right tab up top."});var e=f.title1.actors.map((function(e){return e.id})),t=f.title2.actors.map((function(e){return e.id})),n=e.filter((function(e){return t.includes(e)})),c=n.map((function(e){var t=f.title1.actors.find((function(t){return t.id===e})),n=f.title2.actors.find((function(t){return t.id===e})),c=[t.asCharacter,n.asCharacter];return c[0]===c[1]?(c=t.asCharacter,Object(m.jsxs)("li",{className:"actor",children:[Object(m.jsx)("a",{href:"https://www.imdb.com/name/".concat(t.id),children:t.name})," as ",c]},e)):Object(m.jsxs)("li",{className:"actor",children:[Object(m.jsx)("a",{href:"https://www.imdb.com/name/".concat(t.id),children:t.name})," as",Object(m.jsxs)("ul",{className:"role-sublist",children:[Object(m.jsx)("li",{children:S(c[0],f.title1.title)}),Object(m.jsx)("li",{children:S(c[1],f.title2.title)})]})]},e)}));return Object(m.jsxs)("div",{children:[n.length>0&&Object(m.jsxs)("h2",{children:["These actors appeared in ",f.title1.title," and ",f.title2.title,":"]}),0===n.length&&Object(m.jsxs)("div",{children:[Object(m.jsxs)("h2",{children:[f.title1.title," and ",f.title2.title," do not share any actors."]}),Object(m.jsx)("p",{children:"Something seem off? Make sure you've selected the right tab up top."})]}),Object(m.jsx)("ul",{children:c})]})},k=function(e){var t=Object(c.useState)(!1),n=Object(h.a)(t,2),r=n[0],i=n[1],s=Object(c.useState)(!1),a=Object(h.a)(s,2),l=a[0],o=a[1],u=Object(c.useRef)(),d=Object(c.useRef)(),p=Object(c.useState)(e.new),N=Object(h.a)(p,2),w=N[0],y=N[1];function C(){return(C=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),y(!1),i(!1),o(!1),g("https://imdb-api.com/en/API/SearchTitle/",u.current.value).then((function(e){try{g("https://imdb-api.com/en/API/FullCast/",e.results[0].id).then((function(e){f.title1=e}))}catch(t){f.title1=""}i(!0)})),g("https://imdb-api.com/en/API/SearchTitle/",d.current.value).then((function(e){try{g("https://imdb-api.com/en/API/FullCast/",e.results[0].id).then((function(e){f.title2=e}))}catch(t){f.title2=""}o(!0)}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(m.jsxs)("div",{children:[Object(m.jsxs)("form",{id:"findMovies",onSubmit:function(e){return C.apply(this,arguments)},children:[Object(m.jsxs)("div",{className:"input-wrapper",onChange:function(){return x(u)},children:[Object(m.jsx)("input",{type:"text",className:"acting",placeholder:"Title",ref:u}),Object(m.jsx)("span",{className:"del",onClick:function(){return v(u)},children:"\u2715"})]}),Object(m.jsx)("div",{className:"ex",children:"&"}),Object(m.jsxs)("div",{className:"input-wrapper",onChange:function(){return x(d)},children:[Object(m.jsx)("input",{type:"text",className:"acting",placeholder:"Title",ref:d}),Object(m.jsx)("span",{className:"del",onClick:function(){return v(d)},children:"\u2715"})]}),Object(m.jsx)("button",{id:"submit",type:"submit",children:"compare"})]}),!r&&!l&&!w&&Object(m.jsx)(O,{}),r&&l&&Object(m.jsx)("div",{className:"results",children:Object(m.jsx)(A,{})})]})},I=function(){var e=f.actor1.castMovies.filter((function(e){return"Actor"===e.role||"Actress"===e.role})),t=f.actor2.castMovies.filter((function(e){return"Actor"===e.role||"Actress"===e.role})),n=e.map((function(e){return e.id})),c=t.map((function(e){return e.id})),r=n.filter((function(e){return c.includes(e)})),i=e.filter((function(e){return r.includes(e.id)})),s=t.filter((function(e){return r.includes(e.id)})),a=r.map((function(e){return Object(m.jsxs)("li",{className:C(i.find((function(t){return t.id===e})).description),children:[Object(m.jsx)(w,{movie:i.find((function(t){return t.id===e}))}),Object(m.jsxs)("ul",{children:[Object(m.jsxs)("li",{className:"actor sub",children:[f.actor1.name," as ",Object(m.jsx)(y,{roles:i.find((function(t){return t.id===e})).description})]},"".concat(f.actor1.name,"-").concat(e)),Object(m.jsxs)("li",{className:"actor sub",children:[f.actor2.name," as ",Object(m.jsx)(y,{roles:s.find((function(t){return t.id===e})).description})]},"".concat(f.actor2.name,"-").concat(e))]})]},e)}));return Object(m.jsxs)("div",{children:[i.length>0&&Object(m.jsxs)("h2",{children:[f.actor1.name," and ",f.actor2.name," have both appeared in:"]}),0===i.length&&Object(m.jsxs)("div",{children:[Object(m.jsxs)("h2",{children:[f.actor1.name," and ",f.actor2.name," have never appeared together."]}),Object(m.jsx)("p",{children:"Something seem off? Make sure you've selected the right tab up top."})]}),Object(m.jsx)("ul",{children:a})]})},T=function(e){var t=Object(c.useState)(!1),n=Object(h.a)(t,2),r=n[0],i=n[1],s=Object(c.useState)(!1),a=Object(h.a)(s,2),l=a[0],o=a[1],u=Object(c.useRef)(),d=Object(c.useRef)(),p=Object(c.useState)(e.new),N=Object(h.a)(p,2),w=N[0],y=N[1];function C(){return(C=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),y(!1),i(!1),o(!1),g("https://imdb-api.com/en/API/SearchName",u.current.value).then((function(e){g("https://imdb-api.com/en/API/Name/",e.results[0].id).then((function(e){f.actor1=e,i(!0)}))})),g("https://imdb-api.com/en/API/SearchName",d.current.value).then((function(e){g("https://imdb-api.com/en/API/Name/",e.results[0].id).then((function(e){f.actor2=e,o(!0)}))}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(m.jsxs)("div",{children:[Object(m.jsxs)("form",{id:"findActors",onSubmit:function(e){return C.apply(this,arguments)},children:[Object(m.jsxs)("div",{className:"input-wrapper",onChange:function(){return x(u)},children:[Object(m.jsx)("input",{type:"text",className:"acting",placeholder:"Actor Name",ref:u}),Object(m.jsx)("span",{className:"del",onClick:function(){return v(u)},children:"\u2715"})]}),Object(m.jsx)("div",{className:"ex",children:"&"}),Object(m.jsxs)("div",{className:"input-wrapper",onChange:function(){return x(d)},children:[Object(m.jsx)("input",{type:"text",className:"acting",placeholder:"Actor Name",ref:d}),Object(m.jsx)("span",{className:"del",onClick:function(){return v(d)},children:"\u2715"})]}),Object(m.jsx)("button",{id:"submit",type:"submit",children:"compare"})]}),!r&&!l&&!w&&Object(m.jsx)(O,{}),r&&l&&Object(m.jsx)("div",{className:"results",children:Object(m.jsx)(I,{})})]})},P=["Compare Actors","Compare Titles"],E=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e){var c;return Object(a.a)(this,n),(c=t.call(this,e)).state={activeElement:0,allElements:P},c}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return Object(m.jsx)(M,{elements:this.state.allElements,showIndex:this.state.activeElement,toggleIndex:function(t){return e.setState({activeElement:t})}})}}]),n}(c.Component),M=function(e){var t=e.elements,n=e.showIndex,c=e.toggleIndex;e.isActive;return Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"admin-nav",children:t.map((function(e,r){return Object(m.jsx)("div",{children:Object(m.jsx)("div",{onClick:function(){return c(r)},className:n===r?"selected":null,children:t[r]})},r)}))}),0===n&&Object(m.jsx)(T,{new:!0}),1===n&&Object(m.jsx)(k,{new:!0})]})};var F=function(){return Object(m.jsx)("div",{className:"App",children:Object(m.jsx)(E,{})})},R=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,20)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),i(e),s(e)}))};s.a.render(Object(m.jsxs)(r.a.StrictMode,{children:[Object(m.jsxs)("div",{id:"title",children:[Object(m.jsx)("span",{children:"\u2728"}),"starcrossed"]}),Object(m.jsx)(F,{})]}),document.getElementById("root")),R()}},[[19,1,2]]]);
//# sourceMappingURL=main.0250a5cc.chunk.js.map